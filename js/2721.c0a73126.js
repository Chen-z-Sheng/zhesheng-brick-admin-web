"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["2721"],{37386:function(e,t,a){var o=a(5563),r=a.n(o),l=a(47444),s=a.n(l)()(r());s.push([e.id,".settings-container[data-v-8553de40]{padding:20px}.settings-container[data-v-8553de40] .el-tabs__content{padding:20px 0}.settings-container .avatar-uploader .avatar[data-v-8553de40]{width:120px;height:120px;display:block}.avatar-uploader .el-upload[data-v-8553de40]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden;transition:var(--el-transition-duration-fast)}.avatar-uploader .el-upload[data-v-8553de40]:hover{border-color:var(--el-color-primary)}.el-icon.avatar-uploader-icon[data-v-8553de40]{font-size:28px;color:#8c939d;width:120px;height:120px;text-align:center}",""]),t.A=s},63576:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var o=a(7174);let r={class:"settings-container"},l=["src"];var s={name:"Settings",components:{Plus:a(5059).Plus},data:()=>({activeTab:"basic",basicForm:{siteName:"泽晟搬砖助手后台管理系统",description:"致力打造一个安全、高效、可靠的撸货平台，使撸货变得更简单，更透明，更安全！",logo:"",maintenanceMode:!1},securityForm:{minPasswordLength:8,twoFactorAuth:!1,sessionTimeout:30,maxLoginAttempts:5},emailForm:{smtpServer:"smtp.example.com",smtpPort:587,username:"user@example.com",password:"",senderEmail:"noreply@example.com"},basicRules:{siteName:[{required:!0,message:"请输入网站名称",trigger:"blur"}],description:[{required:!0,message:"请输入网站描述",trigger:"blur"}]},securityRules:{minPasswordLength:[{required:!0,message:"请输入密码最小长度",trigger:"blur"}],sessionTimeout:[{required:!0,message:"请输入会话超时时间",trigger:"blur"}],maxLoginAttempts:[{required:!0,message:"请输入登录失败尝试次数",trigger:"blur"}]},emailRules:{smtpServer:[{required:!0,message:"请输入SMTP服务器",trigger:"blur"}],smtpPort:[{required:!0,message:"请输入SMTP端口",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],senderEmail:[{required:!0,message:"请输入发件人邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]}}),methods:{handleAvatarSuccess(e,t){this.basicForm.logo=URL.createObjectURL(t.raw),this.$message.success("Logo上传成功")},beforeAvatarUpload(e){let t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("Logo图片只能是 JPG 或 PNG 格式!"),a||this.$message.error("Logo图片大小不能超过 2MB!"),t&&a},saveBasicSettings(){this.$refs.basicFormRef.validate(e=>{e?this.$message.success("基本设置保存成功"):this.$message.error("请填写必填项")})},resetBasicForm(){this.$refs.basicFormRef.resetFields(),this.$message.info("表单已重置")},saveSecuritySettings(){this.$refs.securityFormRef.validate(e=>{e?this.$message.success("安全设置保存成功"):this.$message.error("请填写必填项")})},resetSecurityForm(){this.$refs.securityFormRef.resetFields(),this.$message.info("表单已重置")},saveEmailSettings(){this.$refs.emailFormRef.validate(e=>{e?this.$message.success("邮件设置保存成功"):this.$message.error("请填写必填项")})},resetEmailForm(){this.$refs.emailFormRef.resetFields(),this.$message.info("表单已重置")},testEmailConnection(){this.$refs.emailFormRef.validateField("smtpServer",e=>{e||(this.$message.info("正在测试邮件连接..."),setTimeout(()=>{this.$message.success("邮件连接测试成功")},1e3))})}}},i=a(7368),d=a.n(i),m=a(60473),n=a.n(m),u=a(62915),c=a.n(u),p=a(14808),h=a.n(p),V=a(85364),g=a.n(V),f=a(78577),x=a.n(f),b=a(37386),w={};w.styleTagTransform=x(),w.setAttributes=h(),w.insert=c().bind(null,"head"),w.domAPI=n(),w.insertStyleElement=g(),d()(b.A,w),b.A&&b.A.locals&&b.A.locals;var v=(0,a(92260).default)(s,[["render",function(e,t,a,s,i,d){let m=(0,o.resolveComponent)("el-input"),n=(0,o.resolveComponent)("el-form-item"),u=(0,o.resolveComponent)("Plus"),c=(0,o.resolveComponent)("el-icon"),p=(0,o.resolveComponent)("el-upload"),h=(0,o.resolveComponent)("el-switch"),V=(0,o.resolveComponent)("el-button"),g=(0,o.resolveComponent)("el-form"),f=(0,o.resolveComponent)("el-tab-pane"),x=(0,o.resolveComponent)("el-input-number"),b=(0,o.resolveComponent)("el-tabs"),w=(0,o.resolveComponent)("el-card");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(w,{shadow:"never"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(b,{modelValue:i.activeTab,"onUpdate:modelValue":t[12]||(t[12]=e=>i.activeTab=e)},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(f,{label:"基本设置",name:"basic"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(g,{ref:"basicFormRef",model:i.basicForm,rules:i.basicRules,"label-width":"120px",style:{"max-width":"600px"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(n,{label:"网站名称",prop:"siteName"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(m,{modelValue:i.basicForm.siteName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.basicForm.siteName=e)},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"网站描述",prop:"description"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(m,{modelValue:i.basicForm.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.basicForm.description=e),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"网站Logo"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(p,{class:"avatar-uploader",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":d.handleAvatarSuccess,"before-upload":d.beforeAvatarUpload},{default:(0,o.withCtx)(()=>[i.basicForm.logo?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:i.basicForm.logo,class:"avatar",alt:"Logo"},null,8,l)):((0,o.openBlock)(),(0,o.createBlock)(c,{key:1,class:"avatar-uploader-icon"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(u)]),_:1}))]),_:1},8,["on-success","before-upload"])]),_:1}),(0,o.createVNode)(n,{label:"启用维护模式"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(h,{modelValue:i.basicForm.maintenanceMode,"onUpdate:modelValue":t[2]||(t[2]=e=>i.basicForm.maintenanceMode=e)},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,null,{default:(0,o.withCtx)(()=>[(0,o.createVNode)(V,{type:"primary",onClick:d.saveBasicSettings},{default:(0,o.withCtx)(()=>[...t[13]||(t[13]=[(0,o.createTextVNode)("保存设置",-1)])]),_:1},8,["onClick"]),(0,o.createVNode)(V,{onClick:d.resetBasicForm},{default:(0,o.withCtx)(()=>[...t[14]||(t[14]=[(0,o.createTextVNode)("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),(0,o.createVNode)(f,{label:"安全设置",name:"security"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(g,{ref:"securityFormRef",model:i.securityForm,rules:i.securityRules,"label-width":"150px",style:{"max-width":"600px"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(n,{label:"密码最小长度",prop:"minPasswordLength"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(x,{modelValue:i.securityForm.minPasswordLength,"onUpdate:modelValue":t[3]||(t[3]=e=>i.securityForm.minPasswordLength=e),min:6,max:20},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"启用双重认证"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(h,{modelValue:i.securityForm.twoFactorAuth,"onUpdate:modelValue":t[4]||(t[4]=e=>i.securityForm.twoFactorAuth=e)},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"会话超时时间(分钟)",prop:"sessionTimeout"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(x,{modelValue:i.securityForm.sessionTimeout,"onUpdate:modelValue":t[5]||(t[5]=e=>i.securityForm.sessionTimeout=e),min:1,max:1440},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"登录失败尝试次数",prop:"maxLoginAttempts"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(x,{modelValue:i.securityForm.maxLoginAttempts,"onUpdate:modelValue":t[6]||(t[6]=e=>i.securityForm.maxLoginAttempts=e),min:1,max:10},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,null,{default:(0,o.withCtx)(()=>[(0,o.createVNode)(V,{type:"primary",onClick:d.saveSecuritySettings},{default:(0,o.withCtx)(()=>[...t[15]||(t[15]=[(0,o.createTextVNode)("保存设置",-1)])]),_:1},8,["onClick"]),(0,o.createVNode)(V,{onClick:d.resetSecurityForm},{default:(0,o.withCtx)(()=>[...t[16]||(t[16]=[(0,o.createTextVNode)("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),(0,o.createVNode)(f,{label:"邮件设置",name:"email"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(g,{ref:"emailFormRef",model:i.emailForm,rules:i.emailRules,"label-width":"120px",style:{"max-width":"600px"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(n,{label:"SMTP服务器",prop:"smtpServer"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(m,{modelValue:i.emailForm.smtpServer,"onUpdate:modelValue":t[7]||(t[7]=e=>i.emailForm.smtpServer=e)},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"SMTP端口",prop:"smtpPort"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(x,{modelValue:i.emailForm.smtpPort,"onUpdate:modelValue":t[8]||(t[8]=e=>i.emailForm.smtpPort=e),min:1,max:65535},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"用户名",prop:"username"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(m,{modelValue:i.emailForm.username,"onUpdate:modelValue":t[9]||(t[9]=e=>i.emailForm.username=e)},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"密码",prop:"password"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(m,{modelValue:i.emailForm.password,"onUpdate:modelValue":t[10]||(t[10]=e=>i.emailForm.password=e),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,{label:"发件人邮箱",prop:"senderEmail"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(m,{modelValue:i.emailForm.senderEmail,"onUpdate:modelValue":t[11]||(t[11]=e=>i.emailForm.senderEmail=e)},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(n,null,{default:(0,o.withCtx)(()=>[(0,o.createVNode)(V,{type:"primary",onClick:d.saveEmailSettings},{default:(0,o.withCtx)(()=>[...t[17]||(t[17]=[(0,o.createTextVNode)("保存设置",-1)])]),_:1},8,["onClick"]),(0,o.createVNode)(V,{onClick:d.resetEmailForm},{default:(0,o.withCtx)(()=>[...t[18]||(t[18]=[(0,o.createTextVNode)("重置",-1)])]),_:1},8,["onClick"]),(0,o.createVNode)(V,{onClick:d.testEmailConnection},{default:(0,o.withCtx)(()=>[...t[19]||(t[19]=[(0,o.createTextVNode)("测试连接",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])}],["__scopeId","data-v-8553de40"]])}}]);