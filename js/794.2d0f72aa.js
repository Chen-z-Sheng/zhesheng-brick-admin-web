"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["794"],{83678:function(e,t,l){var a=l(5563),o=l.n(a),r=l(47444),i=l.n(r)()(o());i.push([e.id,".permissions-container[data-v-1d1eddf4]{padding:20px}.permissions-container .el-tag[data-v-1d1eddf4]{margin-bottom:5px}",""]),t.A=i},35057:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var a=l(7174);let o={class:"permissions-container"},r={class:"dialog-footer"},i={class:"dialog-footer"};var d=l(7368),n=l.n(d),s=l(60473),c=l.n(s),m=l(62915),u=l.n(m),p=l(14808),V=l.n(p),h=l(85364),C=l.n(h),x=l(78577),w=l.n(x),f=l(83678),N={};N.styleTagTransform=w(),N.setAttributes=V(),N.insert=u().bind(null,"head"),N.domAPI=c(),N.insertStyleElement=C(),n()(f.A,N),f.A&&f.A.locals&&f.A.locals;var b=(0,l(92260).default)({name:"Permissions",data:()=>({activeTab:"role",roleDialogVisible:!1,userDialogVisible:!1,currentRole:{id:"",name:"",permissions:[]},currentUser:{id:"",name:"",email:"",roles:[]},roles:[{id:"1",name:"管理员",permissions:["user:create","user:edit","user:delete","role:assign"]},{id:"2",name:"编辑者",permissions:["user:create","user:edit"]},{id:"3",name:"访客",permissions:[]}],users:[{id:"1",name:"张三",email:"zhangsan@example.com",roles:["1"]},{id:"2",name:"李四",email:"lisi@example.com",roles:["2"]},{id:"3",name:"王五",email:"wangwu@example.com",roles:["3"]}],permissionMap:{"user:create":"创建用户","user:edit":"编辑用户","user:delete":"删除用户","role:assign":"分配角色"},roleMap:{1:"管理员",2:"编辑者",3:"访客"}}),methods:{editRole(e){this.currentRole={...e},this.roleDialogVisible=!0},deleteRole(e){this.$message.warning(`删除角色: ${e.name}`)},saveRole(){this.$message.success("角色保存成功"),this.roleDialogVisible=!1},editUser(e){this.currentUser={...e},this.userDialogVisible=!0},deleteUser(e){this.$message.warning(`删除用户: ${e.name}`)},saveUser(){this.$message.success("用户保存成功"),this.userDialogVisible=!1}}},[["render",function(e,t,l,d,n,s){let c=(0,a.resolveComponent)("el-table-column"),m=(0,a.resolveComponent)("el-tag"),u=(0,a.resolveComponent)("el-button"),p=(0,a.resolveComponent)("el-table"),V=(0,a.resolveComponent)("el-tab-pane"),h=(0,a.resolveComponent)("el-tabs"),C=(0,a.resolveComponent)("el-card"),x=(0,a.resolveComponent)("el-input"),w=(0,a.resolveComponent)("el-form-item"),f=(0,a.resolveComponent)("el-checkbox"),N=(0,a.resolveComponent)("el-checkbox-group"),b=(0,a.resolveComponent)("el-form"),k=(0,a.resolveComponent)("el-dialog");return(0,a.openBlock)(),(0,a.createElementBlock)("div",o,[(0,a.createVNode)(C,{shadow:"never"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(h,{modelValue:n.activeTab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.activeTab=e)},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(V,{label:"角色权限",name:"role"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(p,{data:n.roles,style:{width:"100%"},"row-key":"id"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(c,{prop:"name",label:"角色名称",width:"180"}),(0,a.createVNode)(c,{label:"权限"},{default:(0,a.withCtx)(({row:e})=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.permissions,e=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:e,style:{"margin-right":"10px"}},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.permissionMap[e]||e),1)]),_:2},1024))),128))]),_:1}),(0,a.createVNode)(c,{label:"操作",width:"180"},{default:(0,a.withCtx)(({row:e})=>[(0,a.createVNode)(u,{type:"text",onClick:t=>s.editRole(e)},{default:(0,a.withCtx)(()=>[...t[10]||(t[10]=[(0,a.createTextVNode)("编辑",-1)])]),_:1},8,["onClick"]),(0,a.createVNode)(u,{type:"text",onClick:t=>s.deleteRole(e)},{default:(0,a.withCtx)(()=>[...t[11]||(t[11]=[(0,a.createTextVNode)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),(0,a.createVNode)(V,{label:"用户管理",name:"user"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(p,{data:n.users,style:{width:"100%"},"row-key":"id"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(c,{prop:"name",label:"用户名",width:"180"}),(0,a.createVNode)(c,{label:"角色"},{default:(0,a.withCtx)(({row:e})=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.roles,e=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:e,style:{"margin-right":"10px"}},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.roleMap[e]||e),1)]),_:2},1024))),128))]),_:1}),(0,a.createVNode)(c,{prop:"email",label:"邮箱",width:"200"}),(0,a.createVNode)(c,{label:"操作",width:"180"},{default:(0,a.withCtx)(({row:e})=>[(0,a.createVNode)(u,{type:"text",onClick:t=>s.editUser(e)},{default:(0,a.withCtx)(()=>[...t[12]||(t[12]=[(0,a.createTextVNode)("编辑",-1)])]),_:1},8,["onClick"]),(0,a.createVNode)(u,{type:"text",onClick:t=>s.deleteUser(e)},{default:(0,a.withCtx)(()=>[...t[13]||(t[13]=[(0,a.createTextVNode)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,a.createCommentVNode)(" 角色编辑对话框 "),(0,a.createVNode)(k,{modelValue:n.roleDialogVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>n.roleDialogVisible=e),title:"编辑角色",width:"500px"},{footer:(0,a.withCtx)(()=>[(0,a.createElementVNode)("span",r,[(0,a.createVNode)(u,{onClick:t[3]||(t[3]=e=>n.roleDialogVisible=!1)},{default:(0,a.withCtx)(()=>[...t[14]||(t[14]=[(0,a.createTextVNode)("取消",-1)])]),_:1}),(0,a.createVNode)(u,{type:"primary",onClick:s.saveRole},{default:(0,a.withCtx)(()=>[...t[15]||(t[15]=[(0,a.createTextVNode)("保存",-1)])]),_:1},8,["onClick"])])]),default:(0,a.withCtx)(()=>[(0,a.createVNode)(b,{model:n.currentRole,"label-width":"80px"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(w,{label:"角色名称"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(x,{modelValue:n.currentRole.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.currentRole.name=e)},null,8,["modelValue"])]),_:1}),(0,a.createVNode)(w,{label:"权限"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(N,{modelValue:n.currentRole.permissions,"onUpdate:modelValue":t[2]||(t[2]=e=>n.currentRole.permissions=e)},{default:(0,a.withCtx)(()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.permissionMap,(e,t)=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:t,label:t},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,a.createCommentVNode)(" 用户编辑对话框 "),(0,a.createVNode)(k,{modelValue:n.userDialogVisible,"onUpdate:modelValue":t[9]||(t[9]=e=>n.userDialogVisible=e),title:"编辑用户",width:"500px"},{footer:(0,a.withCtx)(()=>[(0,a.createElementVNode)("span",i,[(0,a.createVNode)(u,{onClick:t[8]||(t[8]=e=>n.userDialogVisible=!1)},{default:(0,a.withCtx)(()=>[...t[16]||(t[16]=[(0,a.createTextVNode)("取消",-1)])]),_:1}),(0,a.createVNode)(u,{type:"primary",onClick:s.saveUser},{default:(0,a.withCtx)(()=>[...t[17]||(t[17]=[(0,a.createTextVNode)("保存",-1)])]),_:1},8,["onClick"])])]),default:(0,a.withCtx)(()=>[(0,a.createVNode)(b,{model:n.currentUser,"label-width":"80px"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(w,{label:"用户名"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(x,{modelValue:n.currentUser.name,"onUpdate:modelValue":t[5]||(t[5]=e=>n.currentUser.name=e)},null,8,["modelValue"])]),_:1}),(0,a.createVNode)(w,{label:"邮箱"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(x,{modelValue:n.currentUser.email,"onUpdate:modelValue":t[6]||(t[6]=e=>n.currentUser.email=e)},null,8,["modelValue"])]),_:1}),(0,a.createVNode)(w,{label:"角色"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(N,{modelValue:n.currentUser.roles,"onUpdate:modelValue":t[7]||(t[7]=e=>n.currentUser.roles=e)},{default:(0,a.withCtx)(()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.roleMap,(e,t)=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:t,label:t},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}],["__scopeId","data-v-1d1eddf4"]])}}]);