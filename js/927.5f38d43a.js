"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["927"],{73714:function(e,t,l){l.r(t),l.d(t,{default:function(){return s}});var n=l(65611),i=l(14761);let u={style:{height:"100vh",display:"flex","flex-direction":"column"}},r={style:{padding:"8px","border-bottom":"1px solid #eee",display:"flex",gap:"8px"}};var s={__name:"form",setup(e){let t=(0,n.KR)(null);function l(){let e=t.value?.getRule?.()||[],l=t.value?.getOption?.()||{};localStorage.setItem("formTpl",JSON.stringify({rule:e,option:l})),i.n.success("已保存到 localStorage（接后端即可）")}function s(){let e=localStorage.getItem("formTpl");if(e){let{rule:l,option:n}=JSON.parse(e);t.value?.setRule(l||[]),t.value?.setOption(n||{}),i.n.success("已从本地载入");return}t.value?.setRule([{type:"input",field:"title",title:"标题",props:{placeholder:"请输入标题"}}]),t.value?.setOption({submitBtn:!0,resetBtn:!0,labelWidth:"100px"}),i.n.success("已载入示例")}function a(){let e=t.value?.getRule?.()||[],l=t.value?.getOption?.()||{};sessionStorage.setItem("formPreview",JSON.stringify({rule:e,option:l})),window.open("/preview","_blank")}return(e,i)=>{let o=(0,n.g2)("el-button"),p=(0,n.g2)("fc-designer");return(0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("div",r,[(0,n.bF)(o,{type:"primary",onClick:l},{default:(0,n.k6)(()=>[...i[0]||(i[0]=[(0,n.eW)("保存表单",-1)])]),_:1}),(0,n.bF)(o,{onClick:s},{default:(0,n.k6)(()=>[...i[1]||(i[1]=[(0,n.eW)("载入示例",-1)])]),_:1}),(0,n.bF)(o,{onClick:a},{default:(0,n.k6)(()=>[...i[2]||(i[2]=[(0,n.eW)("预览",-1)])]),_:1})]),(0,n.bF)(p,{ref_key:"designerRef",ref:t,style:{flex:"1"}},null,512)])}}}}}]);