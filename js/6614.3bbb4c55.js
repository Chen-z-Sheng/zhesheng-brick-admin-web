"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["6614"],{9451:function(e,t,a){var o=a(5563),r=a.n(o),l=a(47444),i=a.n(l)()(r());i.push([e.id,".project-container[data-v-24fd9b3c]{padding:20px}.project-container .card-header[data-v-24fd9b3c]{display:flex;justify-content:space-between;align-items:center;font-weight:bold}.project-container .project-name[data-v-24fd9b3c]{display:flex;align-items:center}.project-container .project-description[data-v-24fd9b3c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis}.project-container .project-avatar-detail[data-v-24fd9b3c]{width:100px;height:100px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;color:#fff;margin:0 auto}.project-container .pagination-container[data-v-24fd9b3c]{margin-top:20px;text-align:right}",""]),t.A=i},8293:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var o=a(7174);let r={class:"project-container"},l={class:"card-header"},i={class:"header-actions"},s={class:"project-name"},d={style:{"margin-left":"10px"}},n={class:"project-description"},c={class:"pagination-container"},p={class:"dialog-footer"},u={class:"dialog-footer"};var m={name:"Project",components:{Search:a(5059).Search},data:()=>({searchText:"",currentPage:1,pageSize:10,totalProjects:0,loading:!1,projectDialogVisible:!1,detailDialogVisible:!1,activeTab:"tasks",editingProject:null,projects:[{id:1,name:"电商平台开发",description:"开发全新的电商平台，包括前端和后端系统",progress:75,manager:"张三",status:"in-progress",startDate:"2023-04-01",endDate:"2023-09-30",color:"#409EFF"},{id:2,name:"移动端App",description:"开发公司业务的移动端应用程序",progress:40,manager:"李四",status:"in-progress",startDate:"2023-05-01",endDate:"2023-11-30",color:"#67C23A"},{id:3,name:"数据分析系统",description:"构建大数据分析平台，支持实时数据处理",progress:90,manager:"王五",status:"in-progress",startDate:"2023-03-01",endDate:"2023-08-31",color:"#E6A23C"},{id:4,name:"内部管理系统",description:"升级公司内部管理系统，提高办公效率",progress:100,manager:"赵六",status:"completed",startDate:"2023-01-01",endDate:"2023-05-31",color:"#F56C6C"},{id:5,name:"客户关系管理",description:"开发CRM系统，提升客户服务质量",progress:20,manager:"钱七",status:"not-started",startDate:"2023-07-01",endDate:"2023-12-31",color:"#909399"}],users:[{id:1,name:"张三"},{id:2,name:"李四"},{id:3,name:"王五"},{id:4,name:"赵六"},{id:5,name:"钱七"}],projectForm:{name:"",description:"",manager:"",startDate:"",endDate:"",status:"not-started",color:"#409EFF"},detailProject:{},projectRules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],manager:[{required:!0,message:"请选择项目经理",trigger:"change"}],startDate:[{required:!0,message:"请选择开始日期",trigger:"change"}],endDate:[{required:!0,message:"请选择结束日期",trigger:"change"}]},projectTasks:[{id:1,title:"需求分析",assignee:"张三",status:"completed",dueDate:"2023-04-10"},{id:2,title:"UI设计",assignee:"李四",status:"completed",dueDate:"2023-04-20"},{id:3,title:"前端开发",assignee:"王五",status:"in-progress",dueDate:"2023-06-30"},{id:4,title:"后端开发",assignee:"赵六",status:"in-progress",dueDate:"2023-07-15"}],projectMembers:[{id:1,name:"张三",role:"项目经理",email:"zhangsan@example.com"},{id:2,name:"李四",role:"UI设计师",email:"lisi@example.com"},{id:3,name:"王五",role:"前端工程师",email:"wangwu@example.com"},{id:4,name:"赵六",role:"后端工程师",email:"zhaoliu@example.com"}]}),computed:{filteredProjects(){let e=this.projects;this.searchText&&(e=e.filter(e=>e.name.toLowerCase().includes(this.searchText.toLowerCase())||e.description.toLowerCase().includes(this.searchText.toLowerCase())));let t=(this.currentPage-1)*this.pageSize,a=t+this.pageSize;return e.slice(t,a)}},methods:{handleSizeChange(e){this.pageSize=e,this.currentPage=1},handleCurrentChange(e){this.currentPage=e},getStatusText:e=>({"not-started":"未开始","in-progress":"进行中",completed:"已完成",paused:"已暂停"})[e]||e,getStatusType:e=>({"not-started":"info","in-progress":"warning",completed:"success",paused:"danger"})[e]||"info",getProgressStatus:e=>100===e?"success":e<30?"exception":"",getTaskStatusText:e=>({pending:"待办","in-progress":"进行中",completed:"已完成"})[e]||e,getTaskStatusType:e=>({pending:"info","in-progress":"warning",completed:"success"})[e]||"info",showAddProjectDialog(){this.editingProject=null,this.projectForm={name:"",description:"",manager:"",startDate:"",endDate:"",status:"not-started",color:"#409EFF"},this.projectDialogVisible=!0,this.$nextTick(()=>{this.$refs.projectFormRef.resetFields()})},editProject(e){this.editingProject=e,this.projectForm={...e},this.projectDialogVisible=!0},viewProject(e){this.detailProject={...e},this.detailDialogVisible=!0},deleteProject(e){this.$confirm(`确定要删除项目"${e.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=this.projects.findIndex(t=>t.id===e.id);-1!==t&&(this.projects.splice(t,1),this.totalProjects=this.projects.length,this.$message.success("项目删除成功"))}).catch(()=>{this.$message.info("已取消删除")})},saveProject(){this.$refs.projectFormRef.validate(e=>{if(e){if(this.editingProject){let e=this.projects.findIndex(e=>e.id===this.editingProject.id);-1!==e&&(this.projects[e]={...this.editingProject,...this.projectForm},this.$message.success("项目更新成功"))}else{let e={id:Date.now(),progress:0,...this.projectForm};this.projects.push(e),this.totalProjects=this.projects.length,this.$message.success("项目添加成功")}this.projectDialogVisible=!1}})}}},g=a(7368),h=a.n(g),V=a(60473),C=a.n(V),x=a(62915),f=a.n(x),w=a(14808),j=a.n(w),N=a(85364),b=a.n(N),v=a(78577),D=a.n(v),y=a(9451),_={};_.styleTagTransform=D(),_.setAttributes=j(),_.insert=f().bind(null,"head"),_.domAPI=C(),_.insertStyleElement=b(),h()(y.A,_),y.A&&y.A.locals&&y.A.locals;var P=(0,a(92260).default)(m,[["render",function(e,t,a,m,g,h){let V=(0,o.resolveComponent)("Search"),C=(0,o.resolveComponent)("el-icon"),x=(0,o.resolveComponent)("el-input"),f=(0,o.resolveComponent)("el-button"),w=(0,o.resolveComponent)("el-avatar"),j=(0,o.resolveComponent)("el-table-column"),N=(0,o.resolveComponent)("el-progress"),b=(0,o.resolveComponent)("el-tag"),v=(0,o.resolveComponent)("el-table"),D=(0,o.resolveComponent)("el-pagination"),y=(0,o.resolveComponent)("el-card"),_=(0,o.resolveComponent)("el-form-item"),P=(0,o.resolveComponent)("el-option"),T=(0,o.resolveComponent)("el-select"),k=(0,o.resolveComponent)("el-date-picker"),S=(0,o.resolveComponent)("el-color-picker"),F=(0,o.resolveComponent)("el-form"),z=(0,o.resolveComponent)("el-dialog"),E=(0,o.resolveComponent)("el-descriptions-item"),U=(0,o.resolveComponent)("el-descriptions"),Y=(0,o.resolveComponent)("el-col"),A=(0,o.resolveComponent)("el-row"),M=(0,o.resolveComponent)("el-tab-pane"),B=(0,o.resolveComponent)("el-tabs"),$=(0,o.resolveDirective)("loading");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(y,{shadow:"never"},{header:(0,o.withCtx)(()=>[(0,o.createElementVNode)("div",l,[t[16]||(t[16]=(0,o.createElementVNode)("span",null,"项目管理",-1)),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(x,{modelValue:g.searchText,"onUpdate:modelValue":t[0]||(t[0]=e=>g.searchText=e),placeholder:"搜索项目...",clearable:"",style:{width:"200px","margin-right":"10px"}},{prefix:(0,o.withCtx)(()=>[(0,o.createVNode)(C,null,{default:(0,o.withCtx)(()=>[(0,o.createVNode)(V)]),_:1})]),_:1},8,["modelValue"]),(0,o.createVNode)(f,{type:"primary",onClick:h.showAddProjectDialog},{default:(0,o.withCtx)(()=>[...t[15]||(t[15]=[(0,o.createTextVNode)("添加项目",-1)])]),_:1},8,["onClick"])])])]),default:(0,o.withCtx)(()=>[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(v,{data:h.filteredProjects,style:{width:"100%"},"row-key":"id"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(j,{prop:"name",label:"项目名称","min-width":"200"},{default:(0,o.withCtx)(({row:e})=>[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(w,{size:32,style:(0,o.normalizeStyle)({backgroundColor:e.color})},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.name.charAt(0).toUpperCase()),1)]),_:2},1032,["style"]),(0,o.createElementVNode)("span",d,(0,o.toDisplayString)(e.name),1)])]),_:1}),(0,o.createVNode)(j,{prop:"description",label:"项目描述","min-width":"250"},{default:(0,o.withCtx)(({row:e})=>[(0,o.createElementVNode)("div",n,(0,o.toDisplayString)(e.description),1)]),_:1}),(0,o.createVNode)(j,{label:"进度",width:"150"},{default:(0,o.withCtx)(({row:e})=>[(0,o.createVNode)(N,{percentage:e.progress,status:h.getProgressStatus(e.progress)},null,8,["percentage","status"])]),_:1}),(0,o.createVNode)(j,{prop:"manager",label:"项目经理",width:"120"}),(0,o.createVNode)(j,{label:"状态",width:"100"},{default:(0,o.withCtx)(({row:e})=>[(0,o.createVNode)(b,{type:h.getStatusType(e.status)},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(h.getStatusText(e.status)),1)]),_:2},1032,["type"])]),_:1}),(0,o.createVNode)(j,{prop:"startDate",label:"开始日期",width:"120"}),(0,o.createVNode)(j,{prop:"endDate",label:"结束日期",width:"120"}),(0,o.createVNode)(j,{label:"操作",width:"200"},{default:(0,o.withCtx)(({row:e})=>[(0,o.createVNode)(f,{type:"text",onClick:t=>h.viewProject(e)},{default:(0,o.withCtx)(()=>[...t[17]||(t[17]=[(0,o.createTextVNode)("查看",-1)])]),_:1},8,["onClick"]),(0,o.createVNode)(f,{type:"text",onClick:t=>h.editProject(e)},{default:(0,o.withCtx)(()=>[...t[18]||(t[18]=[(0,o.createTextVNode)("编辑",-1)])]),_:1},8,["onClick"]),(0,o.createVNode)(f,{type:"text",onClick:t=>h.deleteProject(e)},{default:(0,o.withCtx)(()=>[...t[19]||(t[19]=[(0,o.createTextVNode)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[$,g.loading]]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(D,{"current-page":g.currentPage,"onUpdate:currentPage":t[1]||(t[1]=e=>g.currentPage=e),"page-size":g.pageSize,"onUpdate:pageSize":t[2]||(t[2]=e=>g.pageSize=e),"page-sizes":[10,20,50,100],total:g.totalProjects,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:h.handleSizeChange,onCurrentChange:h.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1}),(0,o.createCommentVNode)(" 添加/编辑项目对话框 "),(0,o.createVNode)(z,{modelValue:g.projectDialogVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>g.projectDialogVisible=e),title:g.editingProject?"编辑项目":"添加项目",width:"600px"},{footer:(0,o.withCtx)(()=>[(0,o.createElementVNode)("span",p,[(0,o.createVNode)(f,{onClick:t[10]||(t[10]=e=>g.projectDialogVisible=!1)},{default:(0,o.withCtx)(()=>[...t[20]||(t[20]=[(0,o.createTextVNode)("取消",-1)])]),_:1}),(0,o.createVNode)(f,{type:"primary",onClick:h.saveProject},{default:(0,o.withCtx)(()=>[...t[21]||(t[21]=[(0,o.createTextVNode)(" 保存 ",-1)])]),_:1},8,["onClick"])])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(F,{ref:"projectFormRef",model:g.projectForm,rules:g.projectRules,"label-width":"100px"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(_,{label:"项目名称",prop:"name"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(x,{modelValue:g.projectForm.name,"onUpdate:modelValue":t[3]||(t[3]=e=>g.projectForm.name=e)},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(_,{label:"项目描述",prop:"description"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(x,{modelValue:g.projectForm.description,"onUpdate:modelValue":t[4]||(t[4]=e=>g.projectForm.description=e),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(_,{label:"项目经理",prop:"manager"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(T,{modelValue:g.projectForm.manager,"onUpdate:modelValue":t[5]||(t[5]=e=>g.projectForm.manager=e),placeholder:"请选择项目经理",style:{width:"100%"}},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(g.users,e=>((0,o.openBlock)(),(0,o.createBlock)(P,{key:e.id,label:e.name,value:e.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,o.createVNode)(_,{label:"开始日期",prop:"startDate"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(k,{modelValue:g.projectForm.startDate,"onUpdate:modelValue":t[6]||(t[6]=e=>g.projectForm.startDate=e),type:"date",placeholder:"选择开始日期",format:"YYYY年MM月DD日","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(_,{label:"结束日期",prop:"endDate"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(k,{modelValue:g.projectForm.endDate,"onUpdate:modelValue":t[7]||(t[7]=e=>g.projectForm.endDate=e),type:"date",placeholder:"选择结束日期",format:"YYYY年MM月DD日","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,o.createVNode)(_,{label:"状态",prop:"status"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(T,{modelValue:g.projectForm.status,"onUpdate:modelValue":t[8]||(t[8]=e=>g.projectForm.status=e),placeholder:"请选择状态",style:{width:"100%"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(P,{label:"未开始",value:"not-started"}),(0,o.createVNode)(P,{label:"进行中",value:"in-progress"}),(0,o.createVNode)(P,{label:"已完成",value:"completed"}),(0,o.createVNode)(P,{label:"已暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),(0,o.createVNode)(_,{label:"项目颜色"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(S,{modelValue:g.projectForm.color,"onUpdate:modelValue":t[9]||(t[9]=e=>g.projectForm.color=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),(0,o.createCommentVNode)(" 项目详情对话框 "),(0,o.createVNode)(z,{modelValue:g.detailDialogVisible,"onUpdate:modelValue":t[14]||(t[14]=e=>g.detailDialogVisible=e),title:"项目详情",width:"800px"},{footer:(0,o.withCtx)(()=>[(0,o.createElementVNode)("span",u,[(0,o.createVNode)(f,{onClick:t[13]||(t[13]=e=>g.detailDialogVisible=!1)},{default:(0,o.withCtx)(()=>[...t[22]||(t[22]=[(0,o.createTextVNode)("关闭",-1)])]),_:1})])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(A,{gutter:20},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(Y,{span:16},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(U,{column:1,border:""},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(E,{label:"项目名称"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(g.detailProject.name),1)]),_:1}),(0,o.createVNode)(E,{label:"项目描述"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(g.detailProject.description),1)]),_:1}),(0,o.createVNode)(E,{label:"项目经理"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(g.detailProject.manager),1)]),_:1}),(0,o.createVNode)(E,{label:"状态"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(b,{type:h.getStatusType(g.detailProject.status)},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(h.getStatusText(g.detailProject.status)),1)]),_:1},8,["type"])]),_:1}),(0,o.createVNode)(E,{label:"开始日期"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(g.detailProject.startDate),1)]),_:1}),(0,o.createVNode)(E,{label:"结束日期"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(g.detailProject.endDate),1)]),_:1}),(0,o.createVNode)(E,{label:"进度"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(N,{percentage:g.detailProject.progress,status:h.getProgressStatus(g.detailProject.progress)},null,8,["percentage","status"])]),_:1})]),_:1})]),_:1}),(0,o.createVNode)(Y,{span:8},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("div",{class:"project-avatar-detail",style:(0,o.normalizeStyle)({backgroundColor:g.detailProject.color})},(0,o.toDisplayString)(g.detailProject.name.charAt(0).toUpperCase()),5)]),_:1})]),_:1}),(0,o.createVNode)(B,{modelValue:g.activeTab,"onUpdate:modelValue":t[12]||(t[12]=e=>g.activeTab=e),style:{"margin-top":"20px"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(M,{label:"任务",name:"tasks"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(v,{data:g.projectTasks,style:{width:"100%"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(j,{prop:"title",label:"任务标题"}),(0,o.createVNode)(j,{prop:"assignee",label:"负责人",width:"120"}),(0,o.createVNode)(j,{label:"状态",width:"100"},{default:(0,o.withCtx)(({row:e})=>[(0,o.createVNode)(b,{type:h.getTaskStatusType(e.status)},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(h.getTaskStatusText(e.status)),1)]),_:2},1032,["type"])]),_:1}),(0,o.createVNode)(j,{prop:"dueDate",label:"截止日期",width:"120"})]),_:1},8,["data"])]),_:1}),(0,o.createVNode)(M,{label:"成员",name:"members"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(v,{data:g.projectMembers,style:{width:"100%"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(j,{prop:"name",label:"姓名"}),(0,o.createVNode)(j,{prop:"role",label:"角色"}),(0,o.createVNode)(j,{prop:"email",label:"邮箱"})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}],["__scopeId","data-v-24fd9b3c"]])}}]);