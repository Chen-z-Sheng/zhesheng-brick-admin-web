"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["3157"],{41444:function(e,t,a){var n=a(5563),r=a.n(n),l=a(47444),d=a.n(l)()(r());d.push([e.id,".calendar-container[data-v-5a89fa30]{padding:20px}.calendar-container .card-header[data-v-5a89fa30]{display:flex;justify-content:space-between;align-items:center;font-weight:bold}.calendar-container .card-header .header-actions[data-v-5a89fa30]{display:flex;align-items:center}.calendar-container .calendar-wrapper[data-v-5a89fa30]{margin:20px 0}.calendar-container .calendar-wrapper .weekdays[data-v-5a89fa30]{display:flex;border:1px solid #ebeef5;border-bottom:0}.calendar-container .calendar-wrapper .weekdays .weekday[data-v-5a89fa30]{flex:1;text-align:center;padding:10px 0;background-color:#f2f6fc;font-weight:bold}.calendar-container .calendar-wrapper .calendar-grid[data-v-5a89fa30]{display:flex;flex-wrap:wrap;border:1px solid #ebeef5;border-top:0}.calendar-container .calendar-wrapper .calendar-grid .calendar-day[data-v-5a89fa30]{flex:0 0 14.2857142857%;min-height:100px;border-right:1px solid #ebeef5;border-bottom:1px solid #ebeef5;padding:5px;cursor:pointer;transition:background-color .2s;position:relative}.calendar-container .calendar-wrapper .calendar-grid .calendar-day[data-v-5a89fa30]:nth-child(7n){border-right:0}.calendar-container .calendar-wrapper .calendar-grid .calendar-day[data-v-5a89fa30]:hover{background-color:#f2f6fc}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.today[data-v-5a89fa30]{background-color:#e6f2ff}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.today .day-number[data-v-5a89fa30]{color:#409eff;font-weight:bold}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.selected[data-v-5a89fa30]{background-color:#e6f2ff;border:2px solid #409eff;padding:3px}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.empty[data-v-5a89fa30]{background-color:#fafafa;cursor:default}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.empty[data-v-5a89fa30]:hover{background-color:#fafafa}.calendar-container .calendar-wrapper .calendar-grid .calendar-day .day-number[data-v-5a89fa30]{font-size:16px;margin-bottom:5px}.calendar-container .calendar-wrapper .calendar-grid .calendar-day .events-indicator[data-v-5a89fa30]{display:flex;flex-wrap:wrap;gap:2px}.calendar-container .calendar-wrapper .calendar-grid .calendar-day .events-indicator .event-dot[data-v-5a89fa30]{width:8px;height:8px;border-radius:50%}.calendar-container .events-panel[data-v-5a89fa30]{margin-top:30px;padding-top:20px;border-top:1px solid #ebeef5}.calendar-container .events-panel.no-events[data-v-5a89fa30]{text-align:center;padding:40px 0}.calendar-container .events-panel.no-events p[data-v-5a89fa30]{margin-bottom:20px;color:#909399}",""]),t.A=d},13700:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});var n=a(7174);let r={class:"calendar-container"},l={class:"card-header"},d={class:"header-actions"},o={class:"calendar-wrapper"},i={class:"weekdays"},c={class:"calendar-grid"},s=["onClick"],p={class:"day-number"},m={class:"events-indicator"},h=["title"],u={key:0,class:"events-panel"},v={style:{"margin-top":"20px","text-align":"center"}},f={key:1,class:"events-panel no-events"},g={class:"dialog-footer"};var D=a(7368),w=a.n(D),y=a(60473),V=a.n(y),x=a(62915),k=a.n(x),C=a(14808),b=a.n(C),Y=a(85364),E=a.n(Y),N=a(78577),M=a.n(N),F=a(41444),_={};_.styleTagTransform=M(),_.setAttributes=b(),_.insert=k().bind(null,"head"),_.domAPI=V(),_.insertStyleElement=E(),w()(F.A,_),F.A&&F.A.locals&&F.A.locals;var B=(0,a(92260).default)({name:"Calendar",data(){return{currentDate:this.formatDate(new Date,"YYYY-MM"),selectedDate:null,weekdays:["日","一","二","三","四","五","六"],events:[{id:1,title:"项目会议",date:this.formatDate(new Date,"YYYY-MM-DD"),time:"14:00",description:"讨论项目进度和下一步计划",color:"#409EFF"},{id:2,title:"团队聚餐",date:this.formatDate(this.addDays(new Date,2),"YYYY-MM-DD"),time:"18:30",description:"季度团队聚餐活动",color:"#67C23A"},{id:3,title:"产品发布",date:this.formatDate(this.addDays(new Date,5),"YYYY-MM-DD"),time:"10:00",description:"新产品正式发布",color:"#E6A23C"}],eventDialogVisible:!1,editingEvent:null,eventForm:{title:"",date:"",time:"",description:"",color:"#409EFF"},eventRules:{title:[{required:!0,message:"请输入事件标题",trigger:"blur"}],date:[{required:!0,message:"请选择日期",trigger:"change"}]}}},computed:{firstDayOfMonth(){return new Date(`${this.currentDate}-01`).getDay()},daysInMonth(){let e=new Date(this.currentDate);return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},selectedDateEvents(){return this.selectedDate?this.events.filter(e=>e.date===this.selectedDate):[]},selectedDateString(){if(!this.selectedDate)return"";let e=new Date(this.selectedDate);return`${e.getFullYear()}年${e.getMonth()+1}月${e.getDate()}日`}},methods:{formatDate(e,t){let a=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return t.replace("YYYY",a).replace("MM",n).replace("DD",r)},addDays(e,t){let a=new Date(e);return a.setDate(a.getDate()+t),a},prevMonth(){let e=new Date(this.currentDate);e.setMonth(e.getMonth()-1),this.currentDate=this.formatDate(e,"YYYY-MM")},nextMonth(){let e=new Date(this.currentDate);e.setMonth(e.getMonth()+1),this.currentDate=this.formatDate(e,"YYYY-MM")},goToToday(){this.currentDate=this.formatDate(new Date,"YYYY-MM"),this.selectedDate=this.formatDate(new Date,"YYYY-MM-DD")},handleMonthChange(e){this.currentDate=e},isToday(e){let t=new Date,a=new Date(this.currentDate);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===e},isSelected(e){if(!this.selectedDate)return!1;let t=new Date(this.selectedDate),a=new Date(this.currentDate);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===e},hasEvents(e){let t=`${this.currentDate}-${String(e).padStart(2,"0")}`;return this.events.some(e=>e.date===t)},getEventsForDay(e){let t=`${this.currentDate}-${String(e).padStart(2,"0")}`;return this.events.filter(e=>e.date===t)},selectDay(e){this.selectedDate=`${this.currentDate}-${String(e).padStart(2,"0")}`},showAddEventDialog(){this.editingEvent=null,this.eventForm={title:"",date:this.selectedDate||this.formatDate(new Date,"YYYY-MM-DD"),time:"",description:"",color:"#409EFF"},this.eventDialogVisible=!0,this.$nextTick(()=>{this.$refs.eventFormRef.resetFields()})},editEvent(e){this.editingEvent=e,this.eventForm={...e},this.eventDialogVisible=!0},deleteEvent(e){this.$confirm(`确定要删除事件"${e.title}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=this.events.findIndex(t=>t.id===e.id);-1!==t&&(this.events.splice(t,1),this.$message.success("事件删除成功"))}).catch(()=>{this.$message.info("已取消删除")})},saveEvent(){this.$refs.eventFormRef.validate(e=>{if(e){if(this.editingEvent){let e=this.events.findIndex(e=>e.id===this.editingEvent.id);-1!==e&&(this.events[e]={...this.editingEvent,...this.eventForm},this.$message.success("事件更新成功"))}else{let e={id:Date.now(),...this.eventForm};this.events.push(e),this.$message.success("事件添加成功")}this.eventDialogVisible=!1}})}}},[["render",function(e,t,a,D,w,y){let V=(0,n.resolveComponent)("el-button"),x=(0,n.resolveComponent)("el-date-picker"),k=(0,n.resolveComponent)("el-table-column"),C=(0,n.resolveComponent)("el-table"),b=(0,n.resolveComponent)("el-card"),Y=(0,n.resolveComponent)("el-input"),E=(0,n.resolveComponent)("el-form-item"),N=(0,n.resolveComponent)("el-time-picker"),M=(0,n.resolveComponent)("el-color-picker"),F=(0,n.resolveComponent)("el-form"),_=(0,n.resolveComponent)("el-dialog");return(0,n.openBlock)(),(0,n.createElementBlock)("div",r,[(0,n.createVNode)(b,{shadow:"never"},{header:(0,n.withCtx)(()=>[(0,n.createElementVNode)("div",l,[t[11]||(t[11]=(0,n.createElementVNode)("span",null,"日历",-1)),(0,n.createElementVNode)("div",d,[(0,n.createVNode)(V,{onClick:y.prevMonth},{default:(0,n.withCtx)(()=>[...t[8]||(t[8]=[(0,n.createTextVNode)("上个月",-1)])]),_:1},8,["onClick"]),(0,n.createVNode)(V,{onClick:y.nextMonth},{default:(0,n.withCtx)(()=>[...t[9]||(t[9]=[(0,n.createTextVNode)("下个月",-1)])]),_:1},8,["onClick"]),(0,n.createVNode)(V,{type:"primary",onClick:y.goToToday},{default:(0,n.withCtx)(()=>[...t[10]||(t[10]=[(0,n.createTextVNode)("今天",-1)])]),_:1},8,["onClick"]),(0,n.createVNode)(x,{modelValue:w.currentDate,"onUpdate:modelValue":t[0]||(t[0]=e=>w.currentDate=e),type:"month",placeholder:"选择月份",format:"YYYY年MM月","value-format":"YYYY-MM",onChange:y.handleMonthChange,style:{"margin-left":"10px",width:"150px"}},null,8,["modelValue","onChange"])])])]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("div",i,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(w.weekdays,e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"weekday",key:e},(0,n.toDisplayString)(e),1))),128))]),(0,n.createElementVNode)("div",c,[(0,n.createCommentVNode)(" 空白日期格子（上个月） "),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(y.firstDayOfMonth,e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"calendar-day empty",key:`empty-${e}`}))),128)),(0,n.createCommentVNode)(" 当前月的日期 "),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(y.daysInMonth,e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["calendar-day",{today:y.isToday(e),selected:y.isSelected(e),hasEvents:y.hasEvents(e)}]),key:`day-${e}`,onClick:t=>y.selectDay(e)},[(0,n.createElementVNode)("div",p,(0,n.toDisplayString)(e),1),(0,n.createElementVNode)("div",m,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(y.getEventsForDay(e),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"event-dot",key:t,style:(0,n.normalizeStyle)({backgroundColor:e.color}),title:e.title},null,12,h))),128))])],10,s))),128))])]),y.selectedDateEvents.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",u,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)(y.selectedDateString)+" 的事件",1),(0,n.createVNode)(C,{data:y.selectedDateEvents,style:{width:"100%"}},{default:(0,n.withCtx)(()=>[(0,n.createVNode)(k,{prop:"title",label:"事件标题"}),(0,n.createVNode)(k,{prop:"time",label:"时间",width:"120"}),(0,n.createVNode)(k,{prop:"description",label:"描述"}),(0,n.createVNode)(k,{label:"操作",width:"120"},{default:(0,n.withCtx)(({row:e})=>[(0,n.createVNode)(V,{type:"text",onClick:t=>y.editEvent(e)},{default:(0,n.withCtx)(()=>[...t[12]||(t[12]=[(0,n.createTextVNode)("编辑",-1)])]),_:1},8,["onClick"]),(0,n.createVNode)(V,{type:"text",onClick:t=>y.deleteEvent(e)},{default:(0,n.withCtx)(()=>[...t[13]||(t[13]=[(0,n.createTextVNode)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),(0,n.createElementVNode)("div",v,[(0,n.createVNode)(V,{type:"primary",onClick:y.showAddEventDialog},{default:(0,n.withCtx)(()=>[...t[14]||(t[14]=[(0,n.createTextVNode)("添加事件",-1)])]),_:1},8,["onClick"])])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",f,[t[16]||(t[16]=(0,n.createElementVNode)("p",null,"请选择一个日期来查看或添加事件",-1)),(0,n.createVNode)(V,{type:"primary",onClick:y.showAddEventDialog,disabled:!w.selectedDate},{default:(0,n.withCtx)(()=>[...t[15]||(t[15]=[(0,n.createTextVNode)(" 添加事件 ",-1)])]),_:1},8,["onClick","disabled"])]))]),_:1}),(0,n.createCommentVNode)(" 添加/编辑事件对话框 "),(0,n.createVNode)(_,{modelValue:w.eventDialogVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>w.eventDialogVisible=e),title:w.editingEvent?"编辑事件":"添加事件",width:"500px"},{footer:(0,n.withCtx)(()=>[(0,n.createElementVNode)("span",g,[(0,n.createVNode)(V,{onClick:t[6]||(t[6]=e=>w.eventDialogVisible=!1)},{default:(0,n.withCtx)(()=>[...t[17]||(t[17]=[(0,n.createTextVNode)("取消",-1)])]),_:1}),(0,n.createVNode)(V,{type:"primary",onClick:y.saveEvent},{default:(0,n.withCtx)(()=>[...t[18]||(t[18]=[(0,n.createTextVNode)(" 保存 ",-1)])]),_:1},8,["onClick"])])]),default:(0,n.withCtx)(()=>[(0,n.createVNode)(F,{ref:"eventFormRef",model:w.eventForm,rules:w.eventRules,"label-width":"80px"},{default:(0,n.withCtx)(()=>[(0,n.createVNode)(E,{label:"标题",prop:"title"},{default:(0,n.withCtx)(()=>[(0,n.createVNode)(Y,{modelValue:w.eventForm.title,"onUpdate:modelValue":t[1]||(t[1]=e=>w.eventForm.title=e)},null,8,["modelValue"])]),_:1}),(0,n.createVNode)(E,{label:"日期",prop:"date"},{default:(0,n.withCtx)(()=>[(0,n.createVNode)(x,{modelValue:w.eventForm.date,"onUpdate:modelValue":t[2]||(t[2]=e=>w.eventForm.date=e),type:"date",placeholder:"选择日期",format:"YYYY年MM月DD日","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,n.createVNode)(E,{label:"时间",prop:"time"},{default:(0,n.withCtx)(()=>[(0,n.createVNode)(N,{modelValue:w.eventForm.time,"onUpdate:modelValue":t[3]||(t[3]=e=>w.eventForm.time=e),placeholder:"选择时间",format:"HH:mm","value-format":"HH:mm",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,n.createVNode)(E,{label:"描述",prop:"description"},{default:(0,n.withCtx)(()=>[(0,n.createVNode)(Y,{modelValue:w.eventForm.description,"onUpdate:modelValue":t[4]||(t[4]=e=>w.eventForm.description=e),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),(0,n.createVNode)(E,{label:"颜色"},{default:(0,n.withCtx)(()=>[(0,n.createVNode)(M,{modelValue:w.eventForm.color,"onUpdate:modelValue":t[5]||(t[5]=e=>w.eventForm.color=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}],["__scopeId","data-v-5a89fa30"]])}}]);